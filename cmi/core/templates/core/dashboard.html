{% extends 'core/base.html' %}
{% block content %}
  <!-- Main content -->
  <main class="col-md-10 ms-sm-auto px-md-4">
    <div class="d-flex justify-content-between flex-wrap align-items-center pt-3 pb-2 mb-3 border-bottom">
      <h2>Dashboard Overview</h2>
    </div>

    <!-- KPI Cards -->
    <div class="row mb-4">
      <div class="col-md-3">
        <div class="card card-stat shadow-sm p-3 mb-3">
          <h6>Total Data Instances</h6>
          <h3>9800</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-stat shadow-sm p-3 mb-3">
          <h6>Avg Truck Productivity</h6>
          <h3>80%</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-stat shadow-sm p-3 mb-3">
          <h6>Excavator Efficiency</h6>
          <h3>74%</h3>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-stat shadow-sm p-3 mb-3">
          <h6>Labor Utilization</h6>
          <h3>65%</h3>
        </div>
      </div>
    </div>

    <!-- Charts and Tables -->
    <div class="row">
      <!-- Chart -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Equipment Productivity Trend</h5>
            <canvas id="productivityChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Table -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Top Performing Equipment</h5>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>ID</th>
                  <th>Productivity</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Truck</td>
                  <td>TRK-021</td>
                  <td>85%</td>
                </tr>
                <tr>
                  <td>Excavator</td>
                  <td>EXC-114</td>
                  <td>78%</td>
                </tr>
                <tr>
                  <td>Labor</td>
                  <td>LAB-033</td>
                  <td>72%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </main>
{% endblock %}


{% block scripts %}
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById('productivityChart').getContext('2d');
    const productivityChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
        datasets: [{
          label: 'Truck',
          data: [65, 75, 78, 80],
          borderColor: '#0d6efd',
          fill: false
        },
        {
          label: 'Excavator',
          data: [60, 68, 72, 74],
          borderColor: '#ffc107',
          fill: false
        },
        {
          label: 'Labor',
          data: [50, 55, 60, 65],
          borderColor: '#198754',
          fill: false
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });

    // active sidebar

  </script>
  {% endblock %}
